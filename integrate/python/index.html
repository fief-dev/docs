
<!doctype html>
<html lang="en" class="no-js">
  <head>
    
      <meta charset="utf-8">
      <meta name="viewport" content="width=device-width,initial-scale=1">
      
        <meta name="description" content="Add Fief authentication to your Python projects in a few minutes.">
      
      
      
        <link rel="canonical" href="https://docs.fief.dev/integrate/python/">
      
      <link rel="icon" href="../../assets/images/favicon.svg">
      <meta name="generator" content="mkdocs-1.3.0, mkdocs-material-8.3.3">
    
    
      
        <title>General - Fief</title>
      
    
    
      <link rel="stylesheet" href="../../assets/stylesheets/main.4a0965b7.min.css">
      
        
        <link rel="stylesheet" href="../../assets/stylesheets/palette.cbb835fc.min.css">
        
      
      
    
    
    
      
        
        
        <link rel="preconnect" href="https://fonts.gstatic.com" crossorigin>
        <link rel="stylesheet" href="https://fonts.googleapis.com/css?family=Inter:300,300i,400,400i,700,700i%7CRoboto+Mono:400,400i,700,700i&display=fallback">
        <style>:root{--md-text-font:"Inter";--md-code-font:"Roboto Mono"}</style>
      
    
    
      <link rel="stylesheet" href="../../assets/stylesheets/extra.css">
    
    <script>__md_scope=new URL("../..",location),__md_get=(e,_=localStorage,t=__md_scope)=>JSON.parse(_.getItem(t.pathname+"."+e)),__md_set=(e,_,t=localStorage,a=__md_scope)=>{try{t.setItem(a.pathname+"."+e,JSON.stringify(_))}catch(e){}}</script>
    
      
  


  <script>
  !function (t, e) { var o, n, p, r; e.__SV || (window.posthog = e, e._i = [], e.init = function (i, s, a) { function g(t, e) { var o = e.split("."); 2 == o.length && (t = t[o[0]], e = o[1]), t[e] = function () { t.push([e].concat(Array.prototype.slice.call(arguments, 0))) } } (p = t.createElement("script")).type = "text/javascript", p.async = !0, p.src = s.api_host + "/static/array.js", (r = t.getElementsByTagName("script")[0]).parentNode.insertBefore(p, r); var u = e; for (void 0 !== a ? u = e[a] = [] : a = "posthog", u.people = u.people || [], u.toString = function (t) { var e = "posthog"; return "posthog" !== a && (e += "." + a), t || (e += " (stub)"), e }, u.people.toString = function () { return u.toString(1) + ".people (stub)" }, o = "capture identify alias people.set people.set_once set_config register register_once unregister opt_out_capturing has_opted_out_capturing opt_in_capturing reset isFeatureEnabled onFeatureFlags".split(" "), n = 0; n < o.length; n++)g(u, o[n]); e._i.push([i, s, a]) }, e.__SV = 1) }(document, window.posthog || []);
  posthog.init('phc_Iiv1jlQUo9krZgYS6m3jHDlOum9795oefgkb4Eij8xU', { api_host: 'https://app.posthog.com' });
  document.addEventListener("DOMContentLoaded", function () {
    location$.subscribe(function (url) {
      posthog.capture('$pageview', { $current_url: url.href, $pathname: url.pathname, });
    })
  })
</script>

    
    
  </head>
  
  
    
    
      
    
    
    
    
    <body dir="ltr" data-md-color-scheme="default" data-md-color-primary="" data-md-color-accent="">
  
    
    
      <script>var palette=__md_get("__palette");if(palette&&"object"==typeof palette.color)for(var key of Object.keys(palette.color))document.body.setAttribute("data-md-color-"+key,palette.color[key])</script>
    
    <input class="md-toggle" data-md-toggle="drawer" type="checkbox" id="__drawer" autocomplete="off">
    <input class="md-toggle" data-md-toggle="search" type="checkbox" id="__search" autocomplete="off">
    <label class="md-overlay" for="__drawer"></label>
    <div data-md-component="skip">
      
        
        <a href="#python" class="md-skip">
          Skip to content
        </a>
      
    </div>
    <div data-md-component="announce">
      
    </div>
    
    
      

<header class="md-header" data-md-component="header">
  <nav class="md-header__inner md-grid" aria-label="Header">
    <a href="../.." title="Fief" class="md-header__button md-logo" aria-label="Fief" data-md-component="logo">
      
  <img src="../../assets/images/fief-logo-white.svg" alt="logo">

    </a>
    <label class="md-header__button md-icon" for="__drawer">
      <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24"><path d="M3 6h18v2H3V6m0 5h18v2H3v-2m0 5h18v2H3v-2Z"/></svg>
    </label>
    <div class="md-header__title" data-md-component="header-title">
      <div class="md-header__ellipsis">
        <div class="md-header__topic">
        </div>
        <div class="md-header__topic" data-md-component="header-topic">
          <span class="md-ellipsis">
            
              General
            
          </span>
        </div>
      </div>
    </div>
    
    <div class="md-header__option">
      
        <a href="https://www.fief.dev" class="md-header__link">About</a>
      
        <a href="https://github.com/fief-dev/fief/discussions" class="md-header__link">Discussions</a>
      
        <a href="https://fief.fief.dev/admin/api/auth/login?screen=register" class="md-header__link">Join the beta</a>
      
    </div>
    
    
      <form class="md-header__option" data-md-component="palette">
        
          
          
          <input class="md-option" data-md-color-media="" data-md-color-scheme="default" data-md-color-primary="" data-md-color-accent=""  aria-label="Switch to dark mode"  type="radio" name="__palette" id="__palette_1">
          
            <label class="md-header__button md-icon" title="Switch to dark mode" for="__palette_2" hidden>
              <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24"><path d="m17.75 4.09-2.53 1.94.91 3.06-2.63-1.81-2.63 1.81.91-3.06-2.53-1.94L12.44 4l1.06-3 1.06 3 3.19.09m3.5 6.91-1.64 1.25.59 1.98-1.7-1.17-1.7 1.17.59-1.98L15.75 11l2.06-.05L18.5 9l.69 1.95 2.06.05m-2.28 4.95c.83-.08 1.72 1.1 1.19 1.85-.32.45-.66.87-1.08 1.27C15.17 23 8.84 23 4.94 19.07c-3.91-3.9-3.91-10.24 0-14.14.4-.4.82-.76 1.27-1.08.75-.53 1.93.36 1.85 1.19-.27 2.86.69 5.83 2.89 8.02a9.96 9.96 0 0 0 8.02 2.89m-1.64 2.02a12.08 12.08 0 0 1-7.8-3.47c-2.17-2.19-3.33-5-3.49-7.82-2.81 3.14-2.7 7.96.31 10.98 3.02 3.01 7.84 3.12 10.98.31Z"/></svg>
            </label>
          
        
          
          
          <input class="md-option" data-md-color-media="" data-md-color-scheme="slate" data-md-color-primary="" data-md-color-accent=""  aria-label="Switch to light mode"  type="radio" name="__palette" id="__palette_2">
          
            <label class="md-header__button md-icon" title="Switch to light mode" for="__palette_1" hidden>
              <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24"><path d="M12 7a5 5 0 0 1 5 5 5 5 0 0 1-5 5 5 5 0 0 1-5-5 5 5 0 0 1 5-5m0 2a3 3 0 0 0-3 3 3 3 0 0 0 3 3 3 3 0 0 0 3-3 3 3 0 0 0-3-3m0-7 2.39 3.42C13.65 5.15 12.84 5 12 5c-.84 0-1.65.15-2.39.42L12 2M3.34 7l4.16-.35A7.2 7.2 0 0 0 5.94 8.5c-.44.74-.69 1.5-.83 2.29L3.34 7m.02 10 1.76-3.77a7.131 7.131 0 0 0 2.38 4.14L3.36 17M20.65 7l-1.77 3.79a7.023 7.023 0 0 0-2.38-4.15l4.15.36m-.01 10-4.14.36c.59-.51 1.12-1.14 1.54-1.86.42-.73.69-1.5.83-2.29L20.64 17M12 22l-2.41-3.44c.74.27 1.55.44 2.41.44.82 0 1.63-.17 2.37-.44L12 22Z"/></svg>
            </label>
          
        
      </form>
    
    
    
      <label class="md-header__button md-icon" for="__search">
        <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24"><path d="M9.5 3A6.5 6.5 0 0 1 16 9.5c0 1.61-.59 3.09-1.56 4.23l.27.27h.79l5 5-1.5 1.5-5-5v-.79l-.27-.27A6.516 6.516 0 0 1 9.5 16 6.5 6.5 0 0 1 3 9.5 6.5 6.5 0 0 1 9.5 3m0 2C7 5 5 7 5 9.5S7 14 9.5 14 14 12 14 9.5 12 5 9.5 5Z"/></svg>
      </label>
      <div class="md-search" data-md-component="search" role="dialog">
  <label class="md-search__overlay" for="__search"></label>
  <div class="md-search__inner" role="search">
    <form class="md-search__form" name="search">
      <input type="text" class="md-search__input" name="query" aria-label="Search" placeholder="Search" autocapitalize="off" autocorrect="off" autocomplete="off" spellcheck="false" data-md-component="search-query" required>
      <label class="md-search__icon md-icon" for="__search">
        <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24"><path d="M9.5 3A6.5 6.5 0 0 1 16 9.5c0 1.61-.59 3.09-1.56 4.23l.27.27h.79l5 5-1.5 1.5-5-5v-.79l-.27-.27A6.516 6.516 0 0 1 9.5 16 6.5 6.5 0 0 1 3 9.5 6.5 6.5 0 0 1 9.5 3m0 2C7 5 5 7 5 9.5S7 14 9.5 14 14 12 14 9.5 12 5 9.5 5Z"/></svg>
        <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24"><path d="M20 11v2H8l5.5 5.5-1.42 1.42L4.16 12l7.92-7.92L13.5 5.5 8 11h12Z"/></svg>
      </label>
      <nav class="md-search__options" aria-label="Search">
        
        <button type="reset" class="md-search__icon md-icon" aria-label="Clear" tabindex="-1">
          <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24"><path d="M19 6.41 17.59 5 12 10.59 6.41 5 5 6.41 10.59 12 5 17.59 6.41 19 12 13.41 17.59 19 19 17.59 13.41 12 19 6.41Z"/></svg>
        </button>
      </nav>
      
        <div class="md-search__suggest" data-md-component="search-suggest"></div>
      
    </form>
    <div class="md-search__output">
      <div class="md-search__scrollwrap" data-md-scrollfix>
        <div class="md-search-result" data-md-component="search-result">
          <div class="md-search-result__meta">
            Initializing search
          </div>
          <ol class="md-search-result__list"></ol>
        </div>
      </div>
    </div>
  </div>
</div>
    
    
  </nav>
  
</header>
    
    <div class="md-container" data-md-component="container">
      
      
        
          
        
      
      <main class="md-main" data-md-component="main">
        <div class="md-main__inner md-grid">
          
            
              
              <div class="md-sidebar md-sidebar--primary" data-md-component="sidebar" data-md-type="navigation" >
                <div class="md-sidebar__scrollwrap">
                  <div class="md-sidebar__inner">
                    


<nav class="md-nav md-nav--primary" aria-label="Navigation" data-md-level="0">
  <label class="md-nav__title" for="__drawer">
    <a href="../.." title="Fief" class="md-nav__button md-logo" aria-label="Fief" data-md-component="logo">
      
  <img src="../../assets/images/fief-logo-white.svg" alt="logo">

    </a>
  </label>
  
  <ul class="md-nav__list" data-md-scrollfix>
    
      
      
      

  
  
  
    <li class="md-nav__item">
      <a href="../.." class="md-nav__link">
        What is Fief?
      </a>
    </li>
  

    
      
      
      

  
  
  
    
      
    
    <li class="md-nav__item md-nav__item--section md-nav__item--nested">
      
      
        <input class="md-nav__toggle md-toggle md-toggle--indeterminate" data-md-toggle="__nav_2" type="checkbox" id="__nav_2" checked>
      
      
      
      
        <label class="md-nav__link" for="__nav_2">
          Getting started
          <span class="md-nav__icon md-icon"></span>
        </label>
      
      <nav class="md-nav" aria-label="Getting started" data-md-level="1">
        <label class="md-nav__title" for="__nav_2">
          <span class="md-nav__icon md-icon"></span>
          Getting started
        </label>
        <ul class="md-nav__list" data-md-scrollfix>
          
            
              
  
  
  
    <li class="md-nav__item">
      <a href="../../getting-started/introduction/" class="md-nav__link">
        Introduction
      </a>
    </li>
  

            
          
            
              
  
  
  
    <li class="md-nav__item">
      <a href="../../getting-started/workspace/" class="md-nav__link">
        Create your workspace
      </a>
    </li>
  

            
          
            
              
  
  
  
    <li class="md-nav__item">
      <a href="../../getting-started/admin-dashboard/" class="md-nav__link">
        Admin dashboard
      </a>
    </li>
  

            
          
            
              
  
  
  
    <li class="md-nav__item">
      <a href="../../getting-started/tenants/" class="md-nav__link">
        Tenants
      </a>
    </li>
  

            
          
            
              
  
  
  
    <li class="md-nav__item">
      <a href="../../getting-started/clients/" class="md-nav__link">
        Clients
      </a>
    </li>
  

            
          
            
              
  
  
  
    <li class="md-nav__item">
      <a href="../../getting-started/users/" class="md-nav__link">
        Users
      </a>
    </li>
  

            
          
            
              
  
  
  
    <li class="md-nav__item">
      <a href="../../getting-started/user-fields/" class="md-nav__link">
        User fields
      </a>
    </li>
  

            
          
            
              
  
  
  
    <li class="md-nav__item">
      <a href="../../getting-started/access-control/" class="md-nav__link">
        Access control
      </a>
    </li>
  

            
          
            
              
  
  
  
    <li class="md-nav__item">
      <a href="../../getting-started/api-keys/" class="md-nav__link">
        API Keys
      </a>
    </li>
  

            
          
            
              
  
  
  
    <li class="md-nav__item">
      <a href="../../getting-started/oauth2/" class="md-nav__link">
        Understand OAuth2
      </a>
    </li>
  

            
          
        </ul>
      </nav>
    </li>
  

    
      
      
      

  
  
    
  
  
    
      
    
    <li class="md-nav__item md-nav__item--active md-nav__item--section md-nav__item--nested">
      
      
        <input class="md-nav__toggle md-toggle" data-md-toggle="__nav_3" type="checkbox" id="__nav_3" checked>
      
      
      
      
        <label class="md-nav__link" for="__nav_3">
          Integrate
          <span class="md-nav__icon md-icon"></span>
        </label>
      
      <nav class="md-nav" aria-label="Integrate" data-md-level="1">
        <label class="md-nav__title" for="__nav_3">
          <span class="md-nav__icon md-icon"></span>
          Integrate
        </label>
        <ul class="md-nav__list" data-md-scrollfix>
          
            
              
  
  
    
  
  
    
    <li class="md-nav__item md-nav__item--active md-nav__item--nested">
      
      
        <input class="md-nav__toggle md-toggle" data-md-toggle="__nav_3_1" type="checkbox" id="__nav_3_1" checked>
      
      
      
      
        <label class="md-nav__link" for="__nav_3_1">
          Python
          <span class="md-nav__icon md-icon"></span>
        </label>
      
      <nav class="md-nav" aria-label="Python" data-md-level="2">
        <label class="md-nav__title" for="__nav_3_1">
          <span class="md-nav__icon md-icon"></span>
          Python
        </label>
        <ul class="md-nav__list" data-md-scrollfix>
          
            
              
  
  
    
  
  
    <li class="md-nav__item md-nav__item--active">
      
      <input class="md-nav__toggle md-toggle" data-md-toggle="toc" type="checkbox" id="__toc">
      
      
        
      
      
        <label class="md-nav__link md-nav__link--active" for="__toc">
          General
          <span class="md-nav__icon md-icon"></span>
        </label>
      
      <a href="./" class="md-nav__link md-nav__link--active">
        General
      </a>
      
        

<nav class="md-nav md-nav--secondary" aria-label="Table of contents">
  
  
  
    
  
  
    <label class="md-nav__title" for="__toc">
      <span class="md-nav__icon md-icon"></span>
      Table of contents
    </label>
    <ul class="md-nav__list" data-md-component="toc" data-md-scrollfix>
      
        <li class="md-nav__item">
  <a href="#create-a-fief-client" class="md-nav__link">
    Create a Fief client
  </a>
  
</li>
      
        <li class="md-nav__item">
  <a href="#perform-an-oauth2-flow-manually" class="md-nav__link">
    Perform an OAuth2 flow manually
  </a>
  
    <nav class="md-nav" aria-label="Perform an OAuth2 flow manually">
      <ul class="md-nav__list">
        
          <li class="md-nav__item">
  <a href="#test-it" class="md-nav__link">
    Test it
  </a>
  
</li>
        
      </ul>
    </nav>
  
</li>
      
        <li class="md-nav__item">
  <a href="#whats-next" class="md-nav__link">
    What's next?
  </a>
  
</li>
      
        <li class="md-nav__item">
  <a href="#reference" class="md-nav__link">
    Reference
  </a>
  
    <nav class="md-nav" aria-label="Reference">
      <ul class="md-nav__list">
        
          <li class="md-nav__item">
  <a href="#fief-client" class="md-nav__link">
    Fief client
  </a>
  
    <nav class="md-nav" aria-label="Fief client">
      <ul class="md-nav__list">
        
          <li class="md-nav__item">
  <a href="#auth_url" class="md-nav__link">
    auth_url
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#auth_callback" class="md-nav__link">
    auth_callback
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#auth_refresh_token" class="md-nav__link">
    auth_refresh_token
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#validate_access_token" class="md-nav__link">
    validate_access_token
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#userinfo" class="md-nav__link">
    userinfo
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#update_profile" class="md-nav__link">
    update_profile
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#logout_url" class="md-nav__link">
    logout_url
  </a>
  
</li>
        
      </ul>
    </nav>
  
</li>
        
          <li class="md-nav__item">
  <a href="#fieftokenresponse" class="md-nav__link">
    FiefTokenResponse
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#fiefaccesstokeninfo" class="md-nav__link">
    FiefAccessTokenInfo
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#fiefuserinfo" class="md-nav__link">
    FiefUserInfo
  </a>
  
</li>
        
      </ul>
    </nav>
  
</li>
      
    </ul>
  
</nav>
      
    </li>
  

            
          
            
              
  
  
  
    <li class="md-nav__item">
      <a href="fastapi/" class="md-nav__link">
        FastAPI
      </a>
    </li>
  

            
          
            
              
  
  
  
    <li class="md-nav__item">
      <a href="flask/" class="md-nav__link">
        Flask
      </a>
    </li>
  

            
          
        </ul>
      </nav>
    </li>
  

            
          
            
              
  
  
  
    
    <li class="md-nav__item md-nav__item--nested">
      
      
        <input class="md-nav__toggle md-toggle md-toggle--indeterminate" data-md-toggle="__nav_3_2" type="checkbox" id="__nav_3_2" checked>
      
      
      
      
        <label class="md-nav__link" for="__nav_3_2">
          JavaScript
          <span class="md-nav__icon md-icon"></span>
        </label>
      
      <nav class="md-nav" aria-label="JavaScript" data-md-level="2">
        <label class="md-nav__title" for="__nav_3_2">
          <span class="md-nav__icon md-icon"></span>
          JavaScript
        </label>
        <ul class="md-nav__list" data-md-scrollfix>
          
            
              
  
  
  
    <li class="md-nav__item">
      <a href="../javascript/" class="md-nav__link">
        General
      </a>
    </li>
  

            
          
            
              
  
  
  
    <li class="md-nav__item">
      <a href="../javascript/browser/" class="md-nav__link">
        Browser
      </a>
    </li>
  

            
          
            
              
  
  
  
    <li class="md-nav__item">
      <a href="../javascript/react/" class="md-nav__link">
        React
      </a>
    </li>
  

            
          
        </ul>
      </nav>
    </li>
  

            
          
        </ul>
      </nav>
    </li>
  

    
      
      
      

  
  
  
    
      
    
    <li class="md-nav__item md-nav__item--section md-nav__item--nested">
      
      
        <input class="md-nav__toggle md-toggle md-toggle--indeterminate" data-md-toggle="__nav_4" type="checkbox" id="__nav_4" checked>
      
      
      
      
        <label class="md-nav__link" for="__nav_4">
          Going further
          <span class="md-nav__icon md-icon"></span>
        </label>
      
      <nav class="md-nav" aria-label="Going further" data-md-level="1">
        <label class="md-nav__title" for="__nav_4">
          <span class="md-nav__icon md-icon"></span>
          Going further
        </label>
        <ul class="md-nav__list" data-md-scrollfix>
          
            
              
  
  
  
    <li class="md-nav__item">
      <a href="../../going-further/byod/" class="md-nav__link">
        Bring your own database
      </a>
    </li>
  

            
          
            
              
  
  
  
    <li class="md-nav__item">
      <a href="../../going-further/pkce/" class="md-nav__link">
        PKCE
      </a>
    </li>
  

            
          
            
              
  
  
  
    <li class="md-nav__item">
      <a href="../../going-further/id-token-encryption/" class="md-nav__link">
        ID Token encryption
      </a>
    </li>
  

            
          
        </ul>
      </nav>
    </li>
  

    
      
      
      

  
  
  
    
      
    
    <li class="md-nav__item md-nav__item--section md-nav__item--nested">
      
      
        <input class="md-nav__toggle md-toggle md-toggle--indeterminate" data-md-toggle="__nav_5" type="checkbox" id="__nav_5" checked>
      
      
      
      
        <label class="md-nav__link" for="__nav_5">
          Self-hosting
          <span class="md-nav__icon md-icon"></span>
        </label>
      
      <nav class="md-nav" aria-label="Self-hosting" data-md-level="1">
        <label class="md-nav__title" for="__nav_5">
          <span class="md-nav__icon md-icon"></span>
          Self-hosting
        </label>
        <ul class="md-nav__list" data-md-scrollfix>
          
            
              
  
  
  
    <li class="md-nav__item">
      <a href="../../self-hosting/quickstart/" class="md-nav__link">
        Quickstart
      </a>
    </li>
  

            
          
            
              
  
  
  
    <li class="md-nav__item">
      <a href="../../self-hosting/setup-database/" class="md-nav__link">
        Setup database
      </a>
    </li>
  

            
          
            
              
  
  
  
    <li class="md-nav__item">
      <a href="../../self-hosting/setup-email-provider/" class="md-nav__link">
        Setup email provider
      </a>
    </li>
  

            
          
            
              
  
  
  
    <li class="md-nav__item">
      <a href="../../self-hosting/environment-variables/" class="md-nav__link">
        Environment variables
      </a>
    </li>
  

            
          
        </ul>
      </nav>
    </li>
  

    
      
      
      

  
  
  
    
      
    
    <li class="md-nav__item md-nav__item--section md-nav__item--nested">
      
      
        <input class="md-nav__toggle md-toggle md-toggle--indeterminate" data-md-toggle="__nav_6" type="checkbox" id="__nav_6" checked>
      
      
      
      
        <label class="md-nav__link" for="__nav_6">
          Miscellaneous
          <span class="md-nav__icon md-icon"></span>
        </label>
      
      <nav class="md-nav" aria-label="Miscellaneous" data-md-level="1">
        <label class="md-nav__title" for="__nav_6">
          <span class="md-nav__icon md-icon"></span>
          Miscellaneous
        </label>
        <ul class="md-nav__list" data-md-scrollfix>
          
            
              
  
  
  
    <li class="md-nav__item">
      <a href="../../miscellaneous/resources/" class="md-nav__link">
        Resources
      </a>
    </li>
  

            
          
        </ul>
      </nav>
    </li>
  

    
  </ul>
</nav>
                  </div>
                </div>
              </div>
            
            
              
              <div class="md-sidebar md-sidebar--secondary" data-md-component="sidebar" data-md-type="toc" >
                <div class="md-sidebar__scrollwrap">
                  <div class="md-sidebar__inner">
                    

<nav class="md-nav md-nav--secondary" aria-label="Table of contents">
  
  
  
    
  
  
    <label class="md-nav__title" for="__toc">
      <span class="md-nav__icon md-icon"></span>
      Table of contents
    </label>
    <ul class="md-nav__list" data-md-component="toc" data-md-scrollfix>
      
        <li class="md-nav__item">
  <a href="#create-a-fief-client" class="md-nav__link">
    Create a Fief client
  </a>
  
</li>
      
        <li class="md-nav__item">
  <a href="#perform-an-oauth2-flow-manually" class="md-nav__link">
    Perform an OAuth2 flow manually
  </a>
  
    <nav class="md-nav" aria-label="Perform an OAuth2 flow manually">
      <ul class="md-nav__list">
        
          <li class="md-nav__item">
  <a href="#test-it" class="md-nav__link">
    Test it
  </a>
  
</li>
        
      </ul>
    </nav>
  
</li>
      
        <li class="md-nav__item">
  <a href="#whats-next" class="md-nav__link">
    What's next?
  </a>
  
</li>
      
        <li class="md-nav__item">
  <a href="#reference" class="md-nav__link">
    Reference
  </a>
  
    <nav class="md-nav" aria-label="Reference">
      <ul class="md-nav__list">
        
          <li class="md-nav__item">
  <a href="#fief-client" class="md-nav__link">
    Fief client
  </a>
  
    <nav class="md-nav" aria-label="Fief client">
      <ul class="md-nav__list">
        
          <li class="md-nav__item">
  <a href="#auth_url" class="md-nav__link">
    auth_url
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#auth_callback" class="md-nav__link">
    auth_callback
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#auth_refresh_token" class="md-nav__link">
    auth_refresh_token
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#validate_access_token" class="md-nav__link">
    validate_access_token
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#userinfo" class="md-nav__link">
    userinfo
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#update_profile" class="md-nav__link">
    update_profile
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#logout_url" class="md-nav__link">
    logout_url
  </a>
  
</li>
        
      </ul>
    </nav>
  
</li>
        
          <li class="md-nav__item">
  <a href="#fieftokenresponse" class="md-nav__link">
    FiefTokenResponse
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#fiefaccesstokeninfo" class="md-nav__link">
    FiefAccessTokenInfo
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#fiefuserinfo" class="md-nav__link">
    FiefUserInfo
  </a>
  
</li>
        
      </ul>
    </nav>
  
</li>
      
    </ul>
  
</nav>
                  </div>
                </div>
              </div>
            
          
          <div class="md-content" data-md-component="content">
            <article class="md-content__inner md-typeset">
              
                

  



<h1 id="python">Python<a class="headerlink" href="#python" title="Permanent link">&para;</a></h1>
<p>We provide an official client for Python. You can install it with <code>pip</code>:</p>
<div class="highlight"><pre><span></span><code><a id="__codelineno-0-1" name="__codelineno-0-1" href="#__codelineno-0-1"></a>pip install fief-client
</code></pre></div>
<h2 id="create-a-fief-client">Create a <code>Fief</code> client<a class="headerlink" href="#create-a-fief-client" title="Permanent link">&para;</a></h2>
<div class="admonition abstract">
<p class="admonition-title">Prerequisites</p>
<ul class="task-list">
<li class="task-list-item"><label class="task-list-control"><input type="checkbox" disabled checked/><span class="task-list-indicator"></span></label> Allow the following <a href="../../getting-started/clients/#redirect-uris">Redirect URI</a> on your Fief Client: <code>http://localhost:8000/callback</code></li>
</ul>
</div>
<p>The Fief client provides all the necessary methods to manage OAuth2 authentication, validate access tokens and refresh them.</p>
<div class="highlight"><span class="filename">client.py</span><pre><span></span><code><a id="__codelineno-1-1" name="__codelineno-1-1" href="#__codelineno-1-1"></a><span class="kn">from</span> <span class="nn">fief_client</span> <span class="kn">import</span> <span class="n">Fief</span>
<a id="__codelineno-1-2" name="__codelineno-1-2" href="#__codelineno-1-2"></a>
<a id="__codelineno-1-3" name="__codelineno-1-3" href="#__codelineno-1-3"></a><span class="hll"><span class="n">fief</span> <span class="o">=</span> <span class="n">Fief</span><span class="p">(</span>
</span><a id="__codelineno-1-4" name="__codelineno-1-4" href="#__codelineno-1-4"></a><span class="hll">    <span class="s2">&quot;https://example.fief.dev&quot;</span><span class="p">,</span>  <span class="c1"># (1)!</span>
</span><a id="__codelineno-1-5" name="__codelineno-1-5" href="#__codelineno-1-5"></a><span class="hll">    <span class="s2">&quot;YOUR_CLIENT_ID&quot;</span><span class="p">,</span>  <span class="c1"># (2)!</span>
</span><a id="__codelineno-1-6" name="__codelineno-1-6" href="#__codelineno-1-6"></a><span class="hll">    <span class="s2">&quot;YOUR_CLIENT_SECRET&quot;</span><span class="p">,</span>  <span class="c1"># (3)!</span>
</span><a id="__codelineno-1-7" name="__codelineno-1-7" href="#__codelineno-1-7"></a><span class="hll"><span class="p">)</span>
</span><a id="__codelineno-1-8" name="__codelineno-1-8" href="#__codelineno-1-8"></a>
<a id="__codelineno-1-9" name="__codelineno-1-9" href="#__codelineno-1-9"></a><span class="n">redirect_url</span> <span class="o">=</span> <span class="s2">&quot;http://localhost:8000/callback&quot;</span>
<a id="__codelineno-1-10" name="__codelineno-1-10" href="#__codelineno-1-10"></a>
<a id="__codelineno-1-11" name="__codelineno-1-11" href="#__codelineno-1-11"></a><span class="n">auth_url</span> <span class="o">=</span> <span class="n">fief</span><span class="o">.</span><span class="n">auth_url</span><span class="p">(</span><span class="n">redirect_url</span><span class="p">,</span> <span class="n">scope</span><span class="o">=</span><span class="p">[</span><span class="s2">&quot;openid&quot;</span><span class="p">])</span>
<a id="__codelineno-1-12" name="__codelineno-1-12" href="#__codelineno-1-12"></a><span class="nb">print</span><span class="p">(</span><span class="sa">f</span><span class="s2">&quot;Open this URL in your browser: </span><span class="si">{</span><span class="n">auth_url</span><span class="si">}</span><span class="s2">&quot;</span><span class="p">)</span>
<a id="__codelineno-1-13" name="__codelineno-1-13" href="#__codelineno-1-13"></a>
<a id="__codelineno-1-14" name="__codelineno-1-14" href="#__codelineno-1-14"></a><span class="n">code</span> <span class="o">=</span> <span class="nb">input</span><span class="p">(</span><span class="s2">&quot;Paste the callback code: &quot;</span><span class="p">)</span>
<a id="__codelineno-1-15" name="__codelineno-1-15" href="#__codelineno-1-15"></a>
<a id="__codelineno-1-16" name="__codelineno-1-16" href="#__codelineno-1-16"></a><span class="n">tokens</span><span class="p">,</span> <span class="n">userinfo</span> <span class="o">=</span> <span class="n">fief</span><span class="o">.</span><span class="n">auth_callback</span><span class="p">(</span><span class="n">code</span><span class="p">,</span> <span class="n">redirect_url</span><span class="p">)</span>
<a id="__codelineno-1-17" name="__codelineno-1-17" href="#__codelineno-1-17"></a><span class="nb">print</span><span class="p">(</span><span class="sa">f</span><span class="s2">&quot;Tokens: </span><span class="si">{</span><span class="n">tokens</span><span class="si">}</span><span class="s2">&quot;</span><span class="p">)</span>
<a id="__codelineno-1-18" name="__codelineno-1-18" href="#__codelineno-1-18"></a><span class="nb">print</span><span class="p">(</span><span class="sa">f</span><span class="s2">&quot;Userinfo: </span><span class="si">{</span><span class="n">userinfo</span><span class="si">}</span><span class="s2">&quot;</span><span class="p">)</span>
</code></pre></div>
<ol>
<li>
<p><strong>Base URL of your Fief tenant</strong></p>
<p>You can find it in the admin dashboard, in the <strong>Tenants</strong> list. <a href="../../getting-started/tenants/#base-url">More info</a></p>
<p><img alt="Find base URL in admin dashboard" src="/assets/images/admin-tenants.png" /></p>
</li>
<li>
<p><strong>ID of your Fief client</strong></p>
<p>You can find it in the admin dashboard, in the <strong>Clients</strong> list. <a href="../../getting-started/clients/">More info</a></p>
<p><img alt="Find Client ID in admin dashboard" src="/assets/images/admin-clients-detail.png" /></p>
<div class="admonition info">
<p class="admonition-title">Info</p>
<p>A first client is always created for you when you create your workspace. When getting started, you should use this one.</p>
</div>
</li>
<li>
<p><strong>Secret of your Fief client</strong></p>
<p>You can find it in the admin dashboard, in the <strong>Clients</strong> list. <a href="../../getting-started/clients/">More info</a></p>
<p><img alt="Find Client Secret in admin dashboard" src="/assets/images/admin-clients-detail.png" /></p>
<div class="admonition info">
<p class="admonition-title">Info</p>
<p>A first client is always created for you when you create your workspace. When getting started, you should use this one.</p>
</div>
</li>
</ol>
<div class="admonition warning">
<p class="admonition-title">Avoid to hardcode your secrets in your code</p>
<p>It's usually not recommended to hardcode secrets like Client ID and Secret in your code like this. If your code gets published on the web, for example on GitHub, the security of your workspace would be compromised.</p>
<p>Besides, it'll be harder if you need to deploy on several environments, like a staging or testing one, in addition to your production environment.</p>
<p>A standard and widely-used approach is to use <a href="https://12factor.net/config">environment variables</a>.</p>
</div>
<div class="admonition info">
<p class="admonition-title">Async support</p>
<p>For <code>asyncio</code> enthusiasts, we also provide a <code>FiefAsync</code> class with the same methods.</p>
</div>
<h2 id="perform-an-oauth2-flow-manually">Perform an OAuth2 flow manually<a class="headerlink" href="#perform-an-oauth2-flow-manually" title="Permanent link">&para;</a></h2>
<p>The simple script below shows you how to authenticate with OAuth2 "manually". The goal is to show you how to use the client. You'll then be able to integrate it in your own project with your framework and stack.</p>
<p>The first step is to generate an <strong>authorization URL</strong>, which is an URL on the Fief server that'll ask you for your email address and password.</p>
<div class="highlight"><span class="filename">client.py</span><pre><span></span><code><a id="__codelineno-2-1" name="__codelineno-2-1" href="#__codelineno-2-1"></a><span class="kn">from</span> <span class="nn">fief_client</span> <span class="kn">import</span> <span class="n">Fief</span>
<a id="__codelineno-2-2" name="__codelineno-2-2" href="#__codelineno-2-2"></a>
<a id="__codelineno-2-3" name="__codelineno-2-3" href="#__codelineno-2-3"></a><span class="n">fief</span> <span class="o">=</span> <span class="n">Fief</span><span class="p">(</span>
<a id="__codelineno-2-4" name="__codelineno-2-4" href="#__codelineno-2-4"></a>    <span class="s2">&quot;https://example.fief.dev&quot;</span><span class="p">,</span>  <span class="c1"># (1)!</span>
<a id="__codelineno-2-5" name="__codelineno-2-5" href="#__codelineno-2-5"></a>    <span class="s2">&quot;YOUR_CLIENT_ID&quot;</span><span class="p">,</span>  <span class="c1"># (2)!</span>
<a id="__codelineno-2-6" name="__codelineno-2-6" href="#__codelineno-2-6"></a>    <span class="s2">&quot;YOUR_CLIENT_SECRET&quot;</span><span class="p">,</span>  <span class="c1"># (3)!</span>
<a id="__codelineno-2-7" name="__codelineno-2-7" href="#__codelineno-2-7"></a><span class="p">)</span>
<a id="__codelineno-2-8" name="__codelineno-2-8" href="#__codelineno-2-8"></a>
<a id="__codelineno-2-9" name="__codelineno-2-9" href="#__codelineno-2-9"></a><span class="hll"><span class="n">redirect_url</span> <span class="o">=</span> <span class="s2">&quot;http://localhost:8000/callback&quot;</span>
</span><a id="__codelineno-2-10" name="__codelineno-2-10" href="#__codelineno-2-10"></a><span class="hll">
</span><a id="__codelineno-2-11" name="__codelineno-2-11" href="#__codelineno-2-11"></a><span class="hll"><span class="n">auth_url</span> <span class="o">=</span> <span class="n">fief</span><span class="o">.</span><span class="n">auth_url</span><span class="p">(</span><span class="n">redirect_url</span><span class="p">,</span> <span class="n">scope</span><span class="o">=</span><span class="p">[</span><span class="s2">&quot;openid&quot;</span><span class="p">])</span>
</span><a id="__codelineno-2-12" name="__codelineno-2-12" href="#__codelineno-2-12"></a><span class="hll"><span class="nb">print</span><span class="p">(</span><span class="sa">f</span><span class="s2">&quot;Open this URL in your browser: </span><span class="si">{</span><span class="n">auth_url</span><span class="si">}</span><span class="s2">&quot;</span><span class="p">)</span>
</span><a id="__codelineno-2-13" name="__codelineno-2-13" href="#__codelineno-2-13"></a>
<a id="__codelineno-2-14" name="__codelineno-2-14" href="#__codelineno-2-14"></a><span class="n">code</span> <span class="o">=</span> <span class="nb">input</span><span class="p">(</span><span class="s2">&quot;Paste the callback code: &quot;</span><span class="p">)</span>
<a id="__codelineno-2-15" name="__codelineno-2-15" href="#__codelineno-2-15"></a>
<a id="__codelineno-2-16" name="__codelineno-2-16" href="#__codelineno-2-16"></a><span class="n">tokens</span><span class="p">,</span> <span class="n">userinfo</span> <span class="o">=</span> <span class="n">fief</span><span class="o">.</span><span class="n">auth_callback</span><span class="p">(</span><span class="n">code</span><span class="p">,</span> <span class="n">redirect_url</span><span class="p">)</span>
<a id="__codelineno-2-17" name="__codelineno-2-17" href="#__codelineno-2-17"></a><span class="nb">print</span><span class="p">(</span><span class="sa">f</span><span class="s2">&quot;Tokens: </span><span class="si">{</span><span class="n">tokens</span><span class="si">}</span><span class="s2">&quot;</span><span class="p">)</span>
<a id="__codelineno-2-18" name="__codelineno-2-18" href="#__codelineno-2-18"></a><span class="nb">print</span><span class="p">(</span><span class="sa">f</span><span class="s2">&quot;Userinfo: </span><span class="si">{</span><span class="n">userinfo</span><span class="si">}</span><span class="s2">&quot;</span><span class="p">)</span>
</code></pre></div>
<p>Then, we make the script prompt for the <strong>authorization code</strong>.</p>
<div class="highlight"><span class="filename">client.py</span><pre><span></span><code><a id="__codelineno-3-1" name="__codelineno-3-1" href="#__codelineno-3-1"></a><span class="kn">from</span> <span class="nn">fief_client</span> <span class="kn">import</span> <span class="n">Fief</span>
<a id="__codelineno-3-2" name="__codelineno-3-2" href="#__codelineno-3-2"></a>
<a id="__codelineno-3-3" name="__codelineno-3-3" href="#__codelineno-3-3"></a><span class="n">fief</span> <span class="o">=</span> <span class="n">Fief</span><span class="p">(</span>
<a id="__codelineno-3-4" name="__codelineno-3-4" href="#__codelineno-3-4"></a>    <span class="s2">&quot;https://example.fief.dev&quot;</span><span class="p">,</span>  <span class="c1"># (1)!</span>
<a id="__codelineno-3-5" name="__codelineno-3-5" href="#__codelineno-3-5"></a>    <span class="s2">&quot;YOUR_CLIENT_ID&quot;</span><span class="p">,</span>  <span class="c1"># (2)!</span>
<a id="__codelineno-3-6" name="__codelineno-3-6" href="#__codelineno-3-6"></a>    <span class="s2">&quot;YOUR_CLIENT_SECRET&quot;</span><span class="p">,</span>  <span class="c1"># (3)!</span>
<a id="__codelineno-3-7" name="__codelineno-3-7" href="#__codelineno-3-7"></a><span class="p">)</span>
<a id="__codelineno-3-8" name="__codelineno-3-8" href="#__codelineno-3-8"></a>
<a id="__codelineno-3-9" name="__codelineno-3-9" href="#__codelineno-3-9"></a><span class="n">redirect_url</span> <span class="o">=</span> <span class="s2">&quot;http://localhost:8000/callback&quot;</span>
<a id="__codelineno-3-10" name="__codelineno-3-10" href="#__codelineno-3-10"></a>
<a id="__codelineno-3-11" name="__codelineno-3-11" href="#__codelineno-3-11"></a><span class="n">auth_url</span> <span class="o">=</span> <span class="n">fief</span><span class="o">.</span><span class="n">auth_url</span><span class="p">(</span><span class="n">redirect_url</span><span class="p">,</span> <span class="n">scope</span><span class="o">=</span><span class="p">[</span><span class="s2">&quot;openid&quot;</span><span class="p">])</span>
<a id="__codelineno-3-12" name="__codelineno-3-12" href="#__codelineno-3-12"></a><span class="nb">print</span><span class="p">(</span><span class="sa">f</span><span class="s2">&quot;Open this URL in your browser: </span><span class="si">{</span><span class="n">auth_url</span><span class="si">}</span><span class="s2">&quot;</span><span class="p">)</span>
<a id="__codelineno-3-13" name="__codelineno-3-13" href="#__codelineno-3-13"></a>
<a id="__codelineno-3-14" name="__codelineno-3-14" href="#__codelineno-3-14"></a><span class="hll"><span class="n">code</span> <span class="o">=</span> <span class="nb">input</span><span class="p">(</span><span class="s2">&quot;Paste the callback code: &quot;</span><span class="p">)</span>
</span><a id="__codelineno-3-15" name="__codelineno-3-15" href="#__codelineno-3-15"></a>
<a id="__codelineno-3-16" name="__codelineno-3-16" href="#__codelineno-3-16"></a><span class="n">tokens</span><span class="p">,</span> <span class="n">userinfo</span> <span class="o">=</span> <span class="n">fief</span><span class="o">.</span><span class="n">auth_callback</span><span class="p">(</span><span class="n">code</span><span class="p">,</span> <span class="n">redirect_url</span><span class="p">)</span>
<a id="__codelineno-3-17" name="__codelineno-3-17" href="#__codelineno-3-17"></a><span class="nb">print</span><span class="p">(</span><span class="sa">f</span><span class="s2">&quot;Tokens: </span><span class="si">{</span><span class="n">tokens</span><span class="si">}</span><span class="s2">&quot;</span><span class="p">)</span>
<a id="__codelineno-3-18" name="__codelineno-3-18" href="#__codelineno-3-18"></a><span class="nb">print</span><span class="p">(</span><span class="sa">f</span><span class="s2">&quot;Userinfo: </span><span class="si">{</span><span class="n">userinfo</span><span class="si">}</span><span class="s2">&quot;</span><span class="p">)</span>
</code></pre></div>
<p>This temporary code is generated by Fief upon successful login and can be used to obtain valid tokens. Fief returns both an <strong>access token</strong> and an <strong>ID token</strong>, which contains information about the user.</p>
<div class="highlight"><span class="filename">client.py</span><pre><span></span><code><a id="__codelineno-4-1" name="__codelineno-4-1" href="#__codelineno-4-1"></a><span class="kn">from</span> <span class="nn">fief_client</span> <span class="kn">import</span> <span class="n">Fief</span>
<a id="__codelineno-4-2" name="__codelineno-4-2" href="#__codelineno-4-2"></a>
<a id="__codelineno-4-3" name="__codelineno-4-3" href="#__codelineno-4-3"></a><span class="n">fief</span> <span class="o">=</span> <span class="n">Fief</span><span class="p">(</span>
<a id="__codelineno-4-4" name="__codelineno-4-4" href="#__codelineno-4-4"></a>    <span class="s2">&quot;https://example.fief.dev&quot;</span><span class="p">,</span>  <span class="c1"># (1)!</span>
<a id="__codelineno-4-5" name="__codelineno-4-5" href="#__codelineno-4-5"></a>    <span class="s2">&quot;YOUR_CLIENT_ID&quot;</span><span class="p">,</span>  <span class="c1"># (2)!</span>
<a id="__codelineno-4-6" name="__codelineno-4-6" href="#__codelineno-4-6"></a>    <span class="s2">&quot;YOUR_CLIENT_SECRET&quot;</span><span class="p">,</span>  <span class="c1"># (3)!</span>
<a id="__codelineno-4-7" name="__codelineno-4-7" href="#__codelineno-4-7"></a><span class="p">)</span>
<a id="__codelineno-4-8" name="__codelineno-4-8" href="#__codelineno-4-8"></a>
<a id="__codelineno-4-9" name="__codelineno-4-9" href="#__codelineno-4-9"></a><span class="n">redirect_url</span> <span class="o">=</span> <span class="s2">&quot;http://localhost:8000/callback&quot;</span>
<a id="__codelineno-4-10" name="__codelineno-4-10" href="#__codelineno-4-10"></a>
<a id="__codelineno-4-11" name="__codelineno-4-11" href="#__codelineno-4-11"></a><span class="n">auth_url</span> <span class="o">=</span> <span class="n">fief</span><span class="o">.</span><span class="n">auth_url</span><span class="p">(</span><span class="n">redirect_url</span><span class="p">,</span> <span class="n">scope</span><span class="o">=</span><span class="p">[</span><span class="s2">&quot;openid&quot;</span><span class="p">])</span>
<a id="__codelineno-4-12" name="__codelineno-4-12" href="#__codelineno-4-12"></a><span class="nb">print</span><span class="p">(</span><span class="sa">f</span><span class="s2">&quot;Open this URL in your browser: </span><span class="si">{</span><span class="n">auth_url</span><span class="si">}</span><span class="s2">&quot;</span><span class="p">)</span>
<a id="__codelineno-4-13" name="__codelineno-4-13" href="#__codelineno-4-13"></a>
<a id="__codelineno-4-14" name="__codelineno-4-14" href="#__codelineno-4-14"></a><span class="n">code</span> <span class="o">=</span> <span class="nb">input</span><span class="p">(</span><span class="s2">&quot;Paste the callback code: &quot;</span><span class="p">)</span>
<a id="__codelineno-4-15" name="__codelineno-4-15" href="#__codelineno-4-15"></a>
<a id="__codelineno-4-16" name="__codelineno-4-16" href="#__codelineno-4-16"></a><span class="hll"><span class="n">tokens</span><span class="p">,</span> <span class="n">userinfo</span> <span class="o">=</span> <span class="n">fief</span><span class="o">.</span><span class="n">auth_callback</span><span class="p">(</span><span class="n">code</span><span class="p">,</span> <span class="n">redirect_url</span><span class="p">)</span>
</span><a id="__codelineno-4-17" name="__codelineno-4-17" href="#__codelineno-4-17"></a><span class="hll"><span class="nb">print</span><span class="p">(</span><span class="sa">f</span><span class="s2">&quot;Tokens: </span><span class="si">{</span><span class="n">tokens</span><span class="si">}</span><span class="s2">&quot;</span><span class="p">)</span>
</span><a id="__codelineno-4-18" name="__codelineno-4-18" href="#__codelineno-4-18"></a><span class="hll"><span class="nb">print</span><span class="p">(</span><span class="sa">f</span><span class="s2">&quot;Userinfo: </span><span class="si">{</span><span class="n">userinfo</span><span class="si">}</span><span class="s2">&quot;</span><span class="p">)</span>
</span></code></pre></div>
<h3 id="test-it">Test it<a class="headerlink" href="#test-it" title="Permanent link">&para;</a></h3>
<p>You can run this script from a command line:</p>
<div class="highlight"><pre><span></span><code><a id="__codelineno-5-1" name="__codelineno-5-1" href="#__codelineno-5-1"></a>python client.py
</code></pre></div>
<p>You'll get the following output:</p>
<div class="highlight"><pre><span></span><code><a id="__codelineno-6-1" name="__codelineno-6-1" href="#__codelineno-6-1"></a>Open this URL in your browser: https://example.fief.dev/authorize?response_type=code&amp;client_id=YOUR_CLIENT_ID&amp;redirect_uri=http%3A%2F%2Flocalhost%3A8000%2Fcallback&amp;scope=openid
<a id="__codelineno-6-2" name="__codelineno-6-2" href="#__codelineno-6-2"></a>Paste the callback code:
</code></pre></div>
<p>You can <strong>copy and paste this URL manually in your browser</strong>. You'll be redirected to a Fief login page.</p>
<p><img alt="Fief login page" src="/assets/images/fief-login.png" /></p>
<p>Upon successful login, Fief will redirect to the redirect URL you defined above, including a query parameter named <code>code</code>. It'll look like this:</p>
<div class="highlight"><pre><span></span><code><a id="__codelineno-7-1" name="__codelineno-7-1" href="#__codelineno-7-1"></a>http://localhost:8000/redirect?code=wPEDiSRkoYOtA-4QCJHpsLne0P2PXVYAlW6hcH5OVBg
</code></pre></div>
<div class="admonition tip">
<p class="admonition-title">Your browser will probably show an error at this point</p>
<p>In this simple implementation, we don't have a web server running on our local machine, so the browser won't be able to open the redirect URL. It's not a problem: what we care about is retrieving the authorization code by hand.</p>
</div>
<p>Copy the code value, get back to the command line where the script is running and paste it. You'll get the following output:</p>
<div class="highlight"><pre><span></span><code><a id="__codelineno-8-1" name="__codelineno-8-1" href="#__codelineno-8-1"></a>Paste the callback code: wPEDiSRkoYOtA-4QCJHpsLne0P2PXVYAlW6hcH5OVBg
<a id="__codelineno-8-2" name="__codelineno-8-2" href="#__codelineno-8-2"></a>Tokens: {&#39;access_token&#39;: &#39;eyJhbGciOiJSUzI1NiJ9.eyJhdWQiOlsiRE9JaGpfNzJIYTlyWWg5dURnbmRTdTYyRVhKdUZmUTVsa2t4MS1rc1VJbyJdLCJhenAiOiJET0loal83MkhhOXJZaDl1RGduZFN1NjJFWEp1RmZRNWxra3gxLWtzVUlvIiwiZXhwIjoxNjQ4MDUwNDIzLCJpYXQiOjE2NDgwNDY4MjMsImlzcyI6Imh0dHBzOi8vZXhhbXBsZS5maWVmLmRldiIsInNjb3BlIjoib3BlbmlkIiwic3ViIjoiYTM4NDZjYzEtN2MwOC00Mzg5LThjOGUtYzBlNzlmNzA3NWZlIn0.R5JnZW9Vq6lWai-FZcqsihYxmtFRbIjZ7D0Ck9XAG0d2YnQQ7ms3bUwtXEAnLhos4C3paGDa0PzQRtXSAx4IH85ZdeVJoBk9GrOj1ZV7E6dtZZSZlvtY2msMeXFC9gNg-A86R9ZU_T0PoROof0u1eJHYVlmo_dv2fodyNqkDB8V6HK3vqf7jaqNQtk8Fg6eHKhwb-3bAtjb5cpWAAWhMSrHZzTWIYUvYsvwAas5ihgenv3UOkpcl_p7b7G9SDhGE5abPQQ7lvyfhYZE7CV1DzVRU6UL4N0D2l4uI3RJNOQoECvltfo2etYzp5viwAwvg9LUS3466Ra1i8beBKXsPFQ&#39;, &#39;id_token&#39;: &#39;eyJhbGciOiJSUzI1NiJ9.eyJhdWQiOlsiRE9JaGpfNzJIYTlyWWg5dURnbmRTdTYyRVhKdUZmUTVsa2t4MS1rc1VJbyJdLCJhenAiOiJET0loal83MkhhOXJZaDl1RGduZFN1NjJFWEp1RmZRNWxra3gxLWtzVUlvIiwiZW1haWwiOiJmcmFuY29pcyt0ZXN0QGZpZWYuZGV2IiwiZXhwIjoxNjQ4MDUwNDIzLCJpYXQiOjE2NDgwNDY4MjMsImlzcyI6Imh0dHBzOi8vZXhhbXBsZS5maWVmLmRldiIsInN1YiI6ImEzODQ2Y2MxLTdjMDgtNDM4OS04YzhlLWMwZTc5ZjcwNzVmZSIsInRlbmFudF9pZCI6IjcwNDEzNWI2LTRiZmQtNGM1NS04MDkwLWM2MzhhNmJhNTNhMiJ9.ULQy7TlgF5_oQwwgA6ydTahTYE31obr4F3olJy-mgyPw67XstoJLM1VwUNawzyz2Iu2QDmgcBrH3OMVfgCkBAFk2sp-QQIDr9arIF1QXNKG65El3zgPQ5-niTTsIuAkemyjNGcpdrcN2b9FaeodzauO5eOjno60h5dTBbcLnqv00V-Jv6sq8lB8_o5JXHKWUoZZA2VFEDox9MXfhDqrvyHcitsIRWIy7XhILKcZ-JG_AMcXnuDcyMnsoy91-gJznvMk7_ty9eNWs8Cm0ZhK3nMqEKML4tXIREmIN-vYUGDtbDWX3O45N98ovu9gJi9S3aVOh-gZQsnwauJmlW82ZQQ&#39;, &#39;token_type&#39;: &#39;bearer&#39;, &#39;expires_in&#39;: 3600}
<a id="__codelineno-8-3" name="__codelineno-8-3" href="#__codelineno-8-3"></a>Userinfo: {&#39;aud&#39;: [&#39;YOUR_CLIENT_ID&#39;], &#39;azp&#39;: &#39;YOUR_CLIENT_ID&#39;, &#39;email&#39;: &#39;anne@bretagne.duchy&#39;, &#39;exp&#39;: 1648050423, &#39;iat&#39;: 1648046823, &#39;iss&#39;: &#39;https://example.fief.dev&#39;, &#39;sub&#39;: &#39;a3846cc1-7c08-4389-8c8e-c0e79f7075fe&#39;, &#39;tenant_id&#39;: &#39;704135b6-4bfd-4c55-8090-c638a6ba53a2&#39;}
</code></pre></div>
<p>As you can see, we obtained a first dictionary <code>tokens</code> containing an access token, an ID token and other standard OAuth2 information.</p>
<p>The second variable, <code>userinfo</code>, is a dictionary with the user data. It's actually the information contained in the ID token that the client decoded for you.</p>
<h2 id="whats-next">What's next?<a class="headerlink" href="#whats-next" title="Permanent link">&para;</a></h2>
<p>You have the fundamental basics for performing an OAuth2 authentication with the Fief Python client.</p>
<p>To help you further, we provide you helpers and examples for popular Python frameworks like Flask or FastAPI.</p>
<p class="buttons"><a class="md-button" href="fastapi/">Integrate with FastAPI</a>
<a class="md-button" href="flask/">Integrate with Flask</a></p>
<h2 id="reference">Reference<a class="headerlink" href="#reference" title="Permanent link">&para;</a></h2>
<h3 id="fief-client"><code>Fief</code> client<a class="headerlink" href="#fief-client" title="Permanent link">&para;</a></h3>
<div class="admonition abstract">
<p class="admonition-title">Initializer</p>
<ul>
<li><code>base_url: str</code>: Base URL of your Fief tenant.</li>
<li><code>client_id: str</code>: ID of your Fief client.</li>
<li><code>client_secret: str</code>: Secret of your Fief client.</li>
<li><code>encryption_key: Optional[str] = None</code>: Encryption key of your Fief client. Necessary only if <a href="../../going-further/id-token-encryption/">ID Token encryption</a> is enabled.</li>
</ul>
</div>
<h4 id="auth_url"><code>auth_url</code><a class="headerlink" href="#auth_url" title="Permanent link">&para;</a></h4>
<p>Returns an authorization URL.</p>
<div class="admonition abstract">
<p class="admonition-title">Parameters</p>
<ul>
<li><code>redirect_uri: str</code>: Your callback URI where the user will be redirected after Fief authentication.</li>
<li><code>state: str = None</code>: Optional string that will be returned back in the callback parameters to allow you to retrieve state information.</li>
<li><code>scope: Optional[List[str]] = None</code>: Optional list of scopes to ask for.</li>
<li><code>code_challenge: Optional[str] = None</code>: Optional code challenge for <a href="../../going-further/pkce/">PKCE process</a>.</li>
<li><code>code_challenge_method: Optional[str] = None</code>: Method used to hash the PKCE code challenge.</li>
<li><code>extras_params: Optional[Dict[str, Any]] = None</code>: Optional dictionary containing specific parameters.</li>
</ul>
</div>
<div class="admonition example">
<p class="admonition-title">Example</p>
<div class="highlight"><pre><span></span><code><a id="__codelineno-9-1" name="__codelineno-9-1" href="#__codelineno-9-1"></a><span class="n">auth_url</span> <span class="o">=</span> <span class="n">fief</span><span class="o">.</span><span class="n">auth_url</span><span class="p">(</span><span class="s2">&quot;http://localhost:8000/callback&quot;</span><span class="p">,</span> <span class="n">scope</span><span class="o">=</span><span class="p">[</span><span class="s2">&quot;openid&quot;</span><span class="p">])</span>
</code></pre></div>
</div>
<h4 id="auth_callback"><code>auth_callback</code><a class="headerlink" href="#auth_callback" title="Permanent link">&para;</a></h4>
<p>Returns a <a href="#fieftokenresponse"><code>FiefTokenResponse</code></a> and <a href="#fiefuserinfo"><code>FiefUserInfo</code></a> in exchange of an authorization code.</p>
<div class="admonition abstract">
<p class="admonition-title">Parameters</p>
<ul>
<li><code>code: str</code>: The authorization code.</li>
<li><code>redirect_uri: str</code>: The exact same <code>redirect_uri</code> you passed to the authorization URL.</li>
<li><code>code_verifier: Optional[str] = None</code>: The raw <a href="../../going-further/pkce/">PCKE</a> code used to generate the code challenge during authorization.</li>
</ul>
</div>
<div class="admonition example">
<p class="admonition-title">Example</p>
<div class="highlight"><pre><span></span><code><a id="__codelineno-10-1" name="__codelineno-10-1" href="#__codelineno-10-1"></a><span class="n">tokens</span><span class="p">,</span> <span class="n">userinfo</span> <span class="o">=</span> <span class="n">fief</span><span class="o">.</span><span class="n">auth_callback</span><span class="p">(</span><span class="s2">&quot;CODE&quot;</span><span class="p">,</span> <span class="s2">&quot;http://localhost:8000/callback&quot;</span><span class="p">)</span>
</code></pre></div>
</div>
<h4 id="auth_refresh_token"><code>auth_refresh_token</code><a class="headerlink" href="#auth_refresh_token" title="Permanent link">&para;</a></h4>
<p>Returns fresh <a href="#fieftokenresponse"><code>FiefTokenResponse</code></a> and <a href="#fiefuserinfo"><code>FiefUserInfo</code></a> in exchange of a refresh token.</p>
<div class="admonition abstract">
<p class="admonition-title">Parameters</p>
<ul>
<li><code>refresh_token: str</code>: A valid refresh token.</li>
<li><code>scope: Optional[List[str]] = None</code>: Optional list of scopes to ask for. If not provided, the access token will share the same list of scopes as requested the first time. Otherwise, it should be a subset of the original list of scopes.</li>
</ul>
</div>
<div class="admonition example">
<p class="admonition-title">Example</p>
<div class="highlight"><pre><span></span><code><a id="__codelineno-11-1" name="__codelineno-11-1" href="#__codelineno-11-1"></a><span class="n">tokens</span><span class="p">,</span> <span class="n">userinfo</span> <span class="o">=</span> <span class="n">fief</span><span class="o">.</span><span class="n">auth_refresh_token</span><span class="p">(</span><span class="s2">&quot;REFRESH_TOKEN&quot;</span><span class="p">)</span>
</code></pre></div>
</div>
<h4 id="validate_access_token"><code>validate_access_token</code><a class="headerlink" href="#validate_access_token" title="Permanent link">&para;</a></h4>
<p>Checks if an access token is valid and optionally that it has a required list of scopes, or a required list of <a href="../../getting-started/access-control/">permissions</a>. Returns a <a href="#fiefaccesstokeninfo"><code>FiefAccessTokenInfo</code></a>.</p>
<div class="admonition abstract">
<p class="admonition-title">Parameters</p>
<ul>
<li><code>access_token: str</code>: The access token to validate.</li>
<li><code>required_scope: Optional[List[str]] = None</code>: Optional list of scopes to check for.</li>
<li><code>required_permissions: Optional[List[str]] = None</code>: Optional list of permissions to check for.</li>
</ul>
</div>
<div class="admonition example">
<p class="admonition-title">Example: Validate access token with required scopes</p>
<div class="highlight"><pre><span></span><code><a id="__codelineno-12-1" name="__codelineno-12-1" href="#__codelineno-12-1"></a><span class="kn">from</span> <span class="nn">fief_client</span> <span class="kn">import</span> <span class="n">FiefAccessTokenInvalid</span><span class="p">,</span> <span class="n">FiefAccessTokenExpired</span><span class="p">,</span> <span class="n">FiefAccessTokenMissingScope</span>
<a id="__codelineno-12-2" name="__codelineno-12-2" href="#__codelineno-12-2"></a>
<a id="__codelineno-12-3" name="__codelineno-12-3" href="#__codelineno-12-3"></a><span class="k">try</span><span class="p">:</span>
<a id="__codelineno-12-4" name="__codelineno-12-4" href="#__codelineno-12-4"></a>    <span class="n">access_token_info</span> <span class="o">=</span> <span class="n">fief</span><span class="o">.</span><span class="n">validate_access_token</span><span class="p">(</span><span class="s2">&quot;ACCESS_TOKEN&quot;</span><span class="p">,</span> <span class="n">required_scope</span><span class="o">=</span><span class="p">[</span><span class="s2">&quot;required_scope&quot;</span><span class="p">])</span>
<a id="__codelineno-12-5" name="__codelineno-12-5" href="#__codelineno-12-5"></a><span class="k">except</span> <span class="n">FiefAccessTokenInvalid</span><span class="p">:</span>
<a id="__codelineno-12-6" name="__codelineno-12-6" href="#__codelineno-12-6"></a>    <span class="nb">print</span><span class="p">(</span><span class="s2">&quot;Invalid access token&quot;</span><span class="p">)</span>
<a id="__codelineno-12-7" name="__codelineno-12-7" href="#__codelineno-12-7"></a><span class="k">except</span> <span class="n">FiefAccessTokenExpired</span><span class="p">:</span>
<a id="__codelineno-12-8" name="__codelineno-12-8" href="#__codelineno-12-8"></a>    <span class="nb">print</span><span class="p">(</span><span class="s2">&quot;Expired access token&quot;</span><span class="p">)</span>
<a id="__codelineno-12-9" name="__codelineno-12-9" href="#__codelineno-12-9"></a><span class="k">except</span> <span class="n">FiefAccessTokenMissingScope</span><span class="p">:</span>
<a id="__codelineno-12-10" name="__codelineno-12-10" href="#__codelineno-12-10"></a>    <span class="nb">print</span><span class="p">(</span><span class="s2">&quot;Missing required scope&quot;</span><span class="p">)</span>
<a id="__codelineno-12-11" name="__codelineno-12-11" href="#__codelineno-12-11"></a>
<a id="__codelineno-12-12" name="__codelineno-12-12" href="#__codelineno-12-12"></a><span class="nb">print</span><span class="p">(</span><span class="n">access_token_info</span><span class="p">)</span>
</code></pre></div>
</div>
<div class="admonition example">
<p class="admonition-title">Example: Validate access token with required permissions</p>
<div class="highlight"><pre><span></span><code><a id="__codelineno-13-1" name="__codelineno-13-1" href="#__codelineno-13-1"></a><span class="kn">from</span> <span class="nn">fief_client</span> <span class="kn">import</span> <span class="n">FiefAccessTokenInvalid</span><span class="p">,</span> <span class="n">FiefAccessTokenExpired</span><span class="p">,</span> <span class="n">FiefAccessTokenMissingPermission</span>
<a id="__codelineno-13-2" name="__codelineno-13-2" href="#__codelineno-13-2"></a>
<a id="__codelineno-13-3" name="__codelineno-13-3" href="#__codelineno-13-3"></a><span class="k">try</span><span class="p">:</span>
<a id="__codelineno-13-4" name="__codelineno-13-4" href="#__codelineno-13-4"></a>    <span class="n">access_token_info</span> <span class="o">=</span> <span class="n">fief</span><span class="o">.</span><span class="n">validate_access_token</span><span class="p">(</span><span class="s2">&quot;ACCESS_TOKEN&quot;</span><span class="p">,</span> <span class="n">required_permissions</span><span class="o">=</span><span class="p">[</span><span class="s2">&quot;castles:create&quot;</span><span class="p">,</span> <span class="s2">&quot;castles:read&quot;</span><span class="p">])</span>
<a id="__codelineno-13-5" name="__codelineno-13-5" href="#__codelineno-13-5"></a><span class="k">except</span> <span class="n">FiefAccessTokenInvalid</span><span class="p">:</span>
<a id="__codelineno-13-6" name="__codelineno-13-6" href="#__codelineno-13-6"></a>    <span class="nb">print</span><span class="p">(</span><span class="s2">&quot;Invalid access token&quot;</span><span class="p">)</span>
<a id="__codelineno-13-7" name="__codelineno-13-7" href="#__codelineno-13-7"></a><span class="k">except</span> <span class="n">FiefAccessTokenExpired</span><span class="p">:</span>
<a id="__codelineno-13-8" name="__codelineno-13-8" href="#__codelineno-13-8"></a>    <span class="nb">print</span><span class="p">(</span><span class="s2">&quot;Expired access token&quot;</span><span class="p">)</span>
<a id="__codelineno-13-9" name="__codelineno-13-9" href="#__codelineno-13-9"></a><span class="k">except</span> <span class="n">FiefAccessTokenMissingPermission</span><span class="p">:</span>
<a id="__codelineno-13-10" name="__codelineno-13-10" href="#__codelineno-13-10"></a>    <span class="nb">print</span><span class="p">(</span><span class="s2">&quot;Missing required permission&quot;</span><span class="p">)</span>
<a id="__codelineno-13-11" name="__codelineno-13-11" href="#__codelineno-13-11"></a>
<a id="__codelineno-13-12" name="__codelineno-13-12" href="#__codelineno-13-12"></a><span class="nb">print</span><span class="p">(</span><span class="n">access_token_info</span><span class="p">)</span>
</code></pre></div>
</div>
<h4 id="userinfo"><code>userinfo</code><a class="headerlink" href="#userinfo" title="Permanent link">&para;</a></h4>
<p>Returns fresh <a href="#fiefuserinfo"><code>FiefUserInfo</code></a> from the Fief API using a valid access token.</p>
<div class="admonition abstract">
<p class="admonition-title">Parameters</p>
<ul>
<li><code>access_token: str</code>: A valid access token</li>
</ul>
</div>
<div class="admonition example">
<p class="admonition-title">Example</p>
<div class="highlight"><pre><span></span><code><a id="__codelineno-14-1" name="__codelineno-14-1" href="#__codelineno-14-1"></a><span class="n">userinfo</span> <span class="o">=</span> <span class="n">fief</span><span class="o">.</span><span class="n">userinfo</span><span class="p">(</span><span class="s2">&quot;ACCESS_TOKEN&quot;</span><span class="p">)</span>
</code></pre></div>
</div>
<h4 id="update_profile"><code>update_profile</code><a class="headerlink" href="#update_profile" title="Permanent link">&para;</a></h4>
<p>Updates user information with the Fief API using a valid access token.</p>
<div class="admonition abstract">
<p class="admonition-title">Parameters</p>
<ul>
<li><code>access_token: str</code>: A valid access token</li>
<li><code>data: Dict[str, Any]</code>: A dictionary containing the data to update</li>
</ul>
</div>
<div class="admonition example">
<p class="admonition-title">Update email address</p>
<div class="highlight"><pre><span></span><code><a id="__codelineno-15-1" name="__codelineno-15-1" href="#__codelineno-15-1"></a><span class="n">userinfo</span> <span class="o">=</span> <span class="n">fief</span><span class="o">.</span><span class="n">update_profile</span><span class="p">(</span><span class="s2">&quot;ACCESS_TOKEN&quot;</span><span class="p">,</span> <span class="p">{</span> <span class="s2">&quot;email&quot;</span><span class="p">:</span> <span class="s2">&quot;anne@nantes.city&quot;</span> <span class="p">})</span>
</code></pre></div>
</div>
<div class="admonition example">
<p class="admonition-title">Update password</p>
<div class="highlight"><pre><span></span><code><a id="__codelineno-16-1" name="__codelineno-16-1" href="#__codelineno-16-1"></a><span class="n">userinfo</span> <span class="o">=</span> <span class="n">fief</span><span class="o">.</span><span class="n">update_profile</span><span class="p">(</span><span class="s2">&quot;ACCESS_TOKEN&quot;</span><span class="p">,</span> <span class="p">{</span> <span class="s2">&quot;password&quot;</span><span class="p">:</span> <span class="s2">&quot;hermine1&quot;</span> <span class="p">})</span>
</code></pre></div>
</div>
<div class="admonition example">
<p class="admonition-title">Update user field</p>
<p>To update <a href="../../getting-started/user-fields/">user field</a> values, you need to nest them into a <code>fields</code> dictionary, indexed by their slug.</p>
<div class="highlight"><pre><span></span><code><a id="__codelineno-17-1" name="__codelineno-17-1" href="#__codelineno-17-1"></a><span class="n">userinfo</span> <span class="o">=</span> <span class="n">fief</span><span class="o">.</span><span class="n">update_profile</span><span class="p">(</span><span class="s2">&quot;ACCESS_TOKEN&quot;</span><span class="p">,</span> <span class="p">{</span> <span class="s2">&quot;fields&quot;</span><span class="p">:</span> <span class="p">{</span> <span class="s2">&quot;first_name&quot;</span><span class="p">:</span> <span class="s2">&quot;Anne&quot;</span> <span class="p">}</span> <span class="p">})</span>
</code></pre></div>
</div>
<h4 id="logout_url"><code>logout_url</code><a class="headerlink" href="#logout_url" title="Permanent link">&para;</a></h4>
<p>Returns a logout URL. If you redirect the user to this page, Fief will clear the session stored on its side.</p>
<p><strong>You're still responsible for clearing your own session mechanism if any.</strong></p>
<div class="admonition abstract">
<p class="admonition-title">Parameters</p>
<ul>
<li><code>redirect_uri: str</code>: A valid URL where the user will be redirected after the logout process</li>
</ul>
</div>
<div class="admonition example">
<p class="admonition-title">Example</p>
<div class="highlight"><pre><span></span><code><a id="__codelineno-18-1" name="__codelineno-18-1" href="#__codelineno-18-1"></a><span class="n">logout_url</span> <span class="o">=</span> <span class="n">fief</span><span class="o">.</span><span class="n">logout_url</span><span class="p">(</span><span class="s2">&quot;http://localhost:8000&quot;</span><span class="p">)</span>
</code></pre></div>
</div>
<h3 id="fieftokenresponse"><code>FiefTokenResponse</code><a class="headerlink" href="#fieftokenresponse" title="Permanent link">&para;</a></h3>
<p>Typed dictionary containing the tokens and related information returned by Fief after a successful authentication.</p>
<div class="admonition abstract">
<p class="admonition-title">Structure</p>
<ul>
<li><code>access_token: str</code>: Access token you can use to call the Fief API</li>
<li><code>id_token: str</code>: ID token containing user information</li>
<li><code>token_type: str</code>: Type of token, usually <code>bearer</code></li>
<li><code>expires_int: int</code>: Number of seconds after which the tokens will expire</li>
<li><code>refresh_token: Optional[str]</code>: Token provided only if scope <code>offline_access</code> was granted. Allows you to retrieve fresh tokens using the <a href="#auth_refresh_token"><code>auth_refresh_token</code></a> method.</li>
</ul>
</div>
<h3 id="fiefaccesstokeninfo"><code>FiefAccessTokenInfo</code><a class="headerlink" href="#fiefaccesstokeninfo" title="Permanent link">&para;</a></h3>
<p>Typed dictionary containing information about the access token.</p>
<div class="admonition abstract">
<p class="admonition-title">Structure</p>
<ul>
<li><code>id: uuid.UUID</code>: ID of the user</li>
<li><code>scope: List[str]</code>: List of granted scopes for this access token</li>
<li><code>permissions: List[str]</code>: List of <a href="../../getting-started/access-control/">granted permissions</a> for this user</li>
<li><code>access_token: str</code>: Access token you can use to call the Fief API</li>
</ul>
</div>
<div class="admonition example">
<p class="admonition-title">Example</p>
<div class="highlight"><pre><span></span><code><a id="__codelineno-19-1" name="__codelineno-19-1" href="#__codelineno-19-1"></a><span class="p">{</span>
<a id="__codelineno-19-2" name="__codelineno-19-2" href="#__codelineno-19-2"></a>    <span class="s2">&quot;id&quot;</span><span class="p">:</span> <span class="s2">&quot;aeeb8bfa-e8f4-4724-9427-c3d5af66190e&quot;</span><span class="p">,</span>
<a id="__codelineno-19-3" name="__codelineno-19-3" href="#__codelineno-19-3"></a>    <span class="s2">&quot;scope&quot;</span><span class="p">:</span> <span class="p">[</span><span class="s2">&quot;openid&quot;</span><span class="p">,</span> <span class="s2">&quot;required_scope&quot;</span><span class="p">],</span>
<a id="__codelineno-19-4" name="__codelineno-19-4" href="#__codelineno-19-4"></a>    <span class="s2">&quot;permissions&quot;</span><span class="p">:</span> <span class="p">[</span><span class="s2">&quot;castles:read&quot;</span><span class="p">,</span> <span class="s2">&quot;castles:create&quot;</span><span class="p">,</span> <span class="s2">&quot;castles:update&quot;</span><span class="p">,</span> <span class="s2">&quot;castles:delete&quot;</span><span class="p">],</span>
<a id="__codelineno-19-5" name="__codelineno-19-5" href="#__codelineno-19-5"></a>    <span class="s2">&quot;access_token&quot;</span><span class="p">:</span> <span class="s2">&quot;ACCESS_TOKEN&quot;</span><span class="p">,</span>
<a id="__codelineno-19-6" name="__codelineno-19-6" href="#__codelineno-19-6"></a><span class="p">}</span>
</code></pre></div>
</div>
<h3 id="fiefuserinfo"><code>FiefUserInfo</code><a class="headerlink" href="#fiefuserinfo" title="Permanent link">&para;</a></h3>
<p>Dictionary containing user information.</p>
<div class="admonition abstract">
<p class="admonition-title">Structure</p>
<ul>
<li><code>sub: str</code>: ID of the user</li>
<li><code>email: str</code>: Email address of the user</li>
<li><code>tenant_id: str</code>: ID of the <a href="../../getting-started/tenants/">tenant</a> associated to the user</li>
<li>Available <a href="../../getting-started/user-fields/">user fields</a> values for this user, indexed by their slug.</li>
</ul>
</div>
<div class="admonition example">
<p class="admonition-title">Example</p>
<div class="highlight"><pre><span></span><code><a id="__codelineno-20-1" name="__codelineno-20-1" href="#__codelineno-20-1"></a><span class="p">{</span>
<a id="__codelineno-20-2" name="__codelineno-20-2" href="#__codelineno-20-2"></a>    <span class="s2">&quot;sub&quot;</span><span class="p">:</span> <span class="s2">&quot;aeeb8bfa-e8f4-4724-9427-c3d5af66190e&quot;</span><span class="p">,</span>
<a id="__codelineno-20-3" name="__codelineno-20-3" href="#__codelineno-20-3"></a>    <span class="s2">&quot;email&quot;</span><span class="p">:</span> <span class="s2">&quot;anne@bretagne.duchy&quot;</span><span class="p">,</span>
<a id="__codelineno-20-4" name="__codelineno-20-4" href="#__codelineno-20-4"></a>    <span class="s2">&quot;tenant_id&quot;</span><span class="p">:</span> <span class="s2">&quot;c91ecb7f-359c-4244-8385-51ecd6c0d06b&quot;</span><span class="p">,</span>
<a id="__codelineno-20-5" name="__codelineno-20-5" href="#__codelineno-20-5"></a>    <span class="s2">&quot;first_name&quot;</span><span class="p">:</span> <span class="s2">&quot;Anne&quot;</span><span class="p">,</span>
<a id="__codelineno-20-6" name="__codelineno-20-6" href="#__codelineno-20-6"></a>    <span class="s2">&quot;last_name&quot;</span><span class="p">:</span> <span class="s2">&quot;De Bretagne&quot;</span><span class="p">,</span>
<a id="__codelineno-20-7" name="__codelineno-20-7" href="#__codelineno-20-7"></a><span class="p">}</span>
</code></pre></div>
</div>

              
            </article>
            
          </div>
        </div>
        
          <a href="#" class="md-top md-icon" data-md-component="top" hidden>
            <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24"><path d="M13 20h-2V8l-5.5 5.5-1.42-1.42L12 4.16l7.92 7.92-1.42 1.42L13 8v12Z"/></svg>
            Back to top
          </a>
        
      </main>
      
        <footer class="md-footer">
  
    
    <nav class="md-footer__inner md-grid" aria-label="Footer" >
      
        
        <a href="../../getting-started/oauth2/" class="md-footer__link md-footer__link--prev" aria-label="Previous: Understand OAuth2" rel="prev">
          <div class="md-footer__button md-icon">
            <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24"><path d="M20 11v2H8l5.5 5.5-1.42 1.42L4.16 12l7.92-7.92L13.5 5.5 8 11h12Z"/></svg>
          </div>
          <div class="md-footer__title">
            <div class="md-ellipsis">
              <span class="md-footer__direction">
                Previous
              </span>
              Understand OAuth2
            </div>
          </div>
        </a>
      
      
        
        <a href="fastapi/" class="md-footer__link md-footer__link--next" aria-label="Next: FastAPI" rel="next">
          <div class="md-footer__title">
            <div class="md-ellipsis">
              <span class="md-footer__direction">
                Next
              </span>
              FastAPI
            </div>
          </div>
          <div class="md-footer__button md-icon">
            <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24"><path d="M4 11v2h12l-5.5 5.5 1.42 1.42L19.84 12l-7.92-7.92L10.5 5.5 16 11H4Z"/></svg>
          </div>
        </a>
      
    </nav>
  
  <div class="md-footer-meta md-typeset">
    <div class="md-footer-meta__inner md-grid">
      <div class="md-copyright">
  
  
    Made with
    <a href="https://squidfunk.github.io/mkdocs-material/" target="_blank" rel="noopener">
      Material for MkDocs
    </a>
  
</div>
      
    </div>
  </div>
</footer>
      
    </div>
    <div class="md-dialog" data-md-component="dialog">
      <div class="md-dialog__inner md-typeset"></div>
    </div>
    <script id="__config" type="application/json">{"base": "../..", "features": ["navigation.instant", "navigation.expand", "navigation.sections", "navigation.top", "search.suggest", "search.highlight", "content.code.annotate"], "search": "../../assets/javascripts/workers/search.b028fd86.min.js", "translations": {"clipboard.copied": "Copied to clipboard", "clipboard.copy": "Copy to clipboard", "search.config.lang": "en", "search.config.pipeline": "trimmer, stopWordFilter", "search.config.separator": "[\\s\\-]+", "search.placeholder": "Search", "search.result.more.one": "1 more on this page", "search.result.more.other": "# more on this page", "search.result.none": "No matching documents", "search.result.one": "1 matching document", "search.result.other": "# matching documents", "search.result.placeholder": "Type to start searching", "search.result.term.missing": "Missing", "select.version.title": "Select version"}}</script>
    
    
      <script src="../../assets/javascripts/bundle.f758a944.min.js"></script>
      
    
  </body>
</html>